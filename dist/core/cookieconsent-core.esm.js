/*!
* CookieConsent 3.0.1
* https://github.com/orestbida/cookieconsent
* Author Orest Bida
* Released under the MIT License
*/
import*as e from'@iabtechlabtcf/stub';const t='opt-in',o='opt-out',n='data-category';class s{constructor(){this.t={mode:t,revision:0,autoClearCookies:!0,manageScriptTags:!0,hideFromBots:!0,cookie:{name:'cc_cookie',expiresAfterDays:182,domain:'',path:'/',sameSite:'Lax'}},this.o={i:{},l:'',_:{},u:{},p:{},m:null,C:[],v:[],S:[],h:[],D:[],I:[],T:[],N:!1,k:null,j:null,F:null,O:'',A:!0,P:!1,R:!0,L:[],M:!1,J:'',U:!1,B:[],V:[],G:[],H:[],q:!1,K:{},W:{},X:{},Y:{},Z:{},$:[]},this.ee={},this.te={oe:'cc:onFirstConsent',ne:'cc:onConsent',se:'cc:onChange'}}}const a=new s,r=(e,t)=>e.indexOf(t),c=(e,t)=>-1!==r(e,t),i=e=>Array.isArray(e),l=e=>'string'==typeof e,d=e=>!!e&&'object'==typeof e&&!i(e),f=e=>'function'==typeof e,_=e=>Object.keys(e),u=e=>Array.from(new Set(e)),p=e=>{const t=document.createElement(e);return'button'===e&&(t.type=e),t},g=(e,t,o)=>e.setAttribute(t,o),m=(e,t,o)=>{e.removeAttribute(o?'data-'+t:t)},C=(e,t,o)=>e.getAttribute(o?'data-'+t:t),v=e=>{if('object'!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());let t=Array.isArray(e)?[]:{};for(let o in e){let n=e[o];t[o]=v(n)}return t},y=()=>{const e={},{B:t,K:o,W:n}=a.o;for(const s of t)e[s]=D(n[s],_(o[s]));return e},S=(e,t)=>{const{B:o,V:n,G:s,ae:r,X:d,H:f,K:u}=a.o;let p=[];if(e){i(e)?p.push(...e):l(e)&&(p='all'===e?o:[e]);for(const e of o)d[e]=c(p,e)?_(u[e]):[]}else p=[...n,...f];p=p.filter((e=>!c(o,e)||!c(t,e))),p.push(...s),I(p)},h=e=>{const t=a.o,{X:o,G:n,W:s,K:r,B:i}=t,l=e?[e]:i;t.Z=v(s);for(const e of l){const a=r[e],i=_(a),l=o[e]&&o[e].length>0,d=c(n,e);if(0!==i.length){if(s[e]=[],d)s[e].push(...i);else if(l){const t=o[e];s[e].push(...t)}else s[e]=t.X[e];s[e]=u(s[e])}}},w=e=>{const{vendors:t}=a.o.m;let o=[];'all'===e?o=t.map((e=>e.id)):i(e)&&(o=e),a.o.D=o},b=()=>{const e=a.t.cookie.expiresAfterDays;return f(e)?e(a.o.J):e},D=(e,t)=>{const o=e||[],n=t||[];return o.filter((e=>!c(n,e))).concat(n.filter((e=>!c(o,e))))},I=e=>{a.o.V=u(e),a.o.J=(()=>{let e='custom';const{V:t,B:o,G:n}=a.o,s=t.length;return s===o.length?e='all':s===n.length&&(e='necessary'),e})()},T=(e,t,o)=>{const{se:n,ne:s,oe:r,re:c,ce:i,ie:l}=a.ee,d=a.te,_=a.t.isTcfCompliant,u={cookie:a.o.p};e===d.oe?f(r)&&r(v(u)):e===d.ne?f(s)&&s(v(u)):(u.changedCategories=a.o.L,u.changedServices=a.o.Y,_&&(u.changedPurposeIds=a.o.v,u.changedSpecialFeatureIds=a.o.h,u.changedVendorIds=a.o.I),f(n)&&n(v(u))),((e,t)=>{dispatchEvent(new CustomEvent(e,{detail:t}))})(e,v(u))},N=(e,t)=>{try{return e()}catch(e){return!t&&console.warn('CookieConsent:',e),!1}},k=e=>{const{W:t,Y:o,B:s,K:r,$:i,p:l,L:d}=a.o;for(const e of s){const n=o[e]||t[e]||[];for(const o of n){const n=r[e][o];if(!n)continue;const{onAccept:s,onReject:a}=n;!n.le&&c(t[e],o)?(n.le=!0,f(s)&&s()):n.le&&!c(t[e],o)&&(n.le=!1,f(a)&&a())}}if(!a.t.manageScriptTags)return;const _=i,u=e||l.categories||[],v=(e,s)=>{if(s>=e.length)return;const a=i[s];if(a.de)return v(e,s+1);const r=a.fe,l=a._e,f=a.ue,_=c(u,l),y=!!f&&c(t[l],f);if(!f&&!a.pe&&_||!f&&a.pe&&!_&&c(d,l)||f&&!a.pe&&y||f&&a.pe&&!y&&c(o[l]||[],f)){a.de=!0;const t=C(r,'type',!0);m(r,'type',!!t),m(r,n);let o=C(r,'src',!0);o&&m(r,'src',!0);const c=p('script');c.textContent=r.innerHTML;for(const{nodeName:e}of r.attributes)g(c,e,r[e]||C(r,e));t&&(c.type=t),o?c.src=o:o=r.src;const i=!!o&&(!t||['text/javascript','module'].includes(t));if(i&&(c.onload=c.onerror=()=>{v(e,++s)}),r.replaceWith(c),i)return}v(e,++s)};v(_,0)},j=e=>N((()=>localStorage.removeItem(e))),E=(e,t)=>{if(t instanceof RegExp)return e.filter((e=>t.test(e)));{const o=r(e,t);return o>-1?[e[o]]:[]}},x=()=>{const e=a.o;e.L=a.t.mode===o&&e.A?D(e.H,e.V):D(e.V,e.p.categories);let n=e.L.length>0,s=!1;for(const t of e.B)e.Y[t]=D(e.W[t],e.Z[t]),e.Y[t].length>0&&(s=!0);const r=e.p.purposeIds??[],i=e.p.specialFeatureIds??[],l=e.p.vendorIds??[];e.v=D(r,e.C),e.h=D(i,e.S),e.I=D(l,e.D);const d=e.v.length>0,f=e.h.length>0,_=e.I.length>0;e.j||(e.j=new Date),e.O||(e.O=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))),e.p={categories:v(e.V),revision:a.t.revision,data:e.k,consentTimestamp:e.j.toISOString(),consentId:e.O,services:v(e.W),purposeIds:v(e.C),specialFeatureIds:v(e.S),vendorIds:v(e.D)};let u=!1;const p=n||s||d||f||_;(e.A||p)&&(e.A&&(e.A=!1,u=!0),e.F=e.F?new Date:e.j,e.p.lastConsentTimestamp=e.F.toISOString(),F(),a.t.autoClearCookies&&(u||p)&&(e=>{const t=a.o,o=R(),n=(e=>{const t=a.o;return(e?t.B:t.L).filter((e=>{const o=t.U[e];return!!o&&!o.readOnly&&!!o.autoClear}))})(e);for(const e in t.Y)for(const n of t.Y[e]){const s=t.K[e][n].cookies;if(!c(t.W[e],n)&&s)for(const e of s){const t=E(o,e.name);O(t,e.path,e.domain)}}for(const s of n){const n=t.U[s].autoClear,a=n&&n.cookies||[],r=c(t.L,s),i=!c(t.V,s),l=r&&i;if(e?i:l){n.reloadPage&&l&&(t.M=!0);for(const e of a){const t=E(o,e.name);O(t,e.path,e.domain)}}}})(u),k()),u&&(T(a.te.oe),T(a.te.ne),a.t.mode===t)||(p&&T(a.te.se),e.M&&(e.M=!1,location.reload()))},F=e=>{const{hostname:t,protocol:o}=location,{name:n,path:s,domain:r,sameSite:i,useLocalStorage:l}=a.t.cookie,d=e?(()=>{const e=a.o.F,t=e?new Date-e:0;return 864e5*b()-t})():864e5*b(),f=new Date;f.setTime(f.getTime()+d),a.o.p.expirationTime=f.getTime();const _=JSON.stringify(a.o.p);let u=n+'='+encodeURIComponent(_)+(0!==d?'; expires='+f.toUTCString():'')+'; Path='+s+'; SameSite='+i;c(t,'.')&&(u+='; Domain='+r),'https:'===o&&(u+='; Secure'),l?((e,t)=>{N((()=>localStorage.setItem(e,t)))})(n,_):document.cookie=u,a.o.p},O=(e,t,o)=>{if(0===e.length)return;const n=o||a.t.cookie.domain,s=t||a.t.cookie.path,r='www.'===n.slice(0,4),c=r&&n.substring(4),i=(e,t)=>{document.cookie=e+'=; path='+s+(t?'; domain=.'+t:'')+'; expires=Thu, 01 Jan 1970 00:00:01 GMT;'};for(const t of e)i(t),i(t,n),r&&i(t,c)},A=e=>{const t=e||a.t.cookie.name,o=a.t.cookie.useLocalStorage;return((e,t)=>{let o;return o=N((()=>JSON.parse(t?e:decodeURIComponent(e))),!0)||{},o})(o?(n=t,N((()=>localStorage.getItem(n)))||''):P(t,!0),o);var n},P=(e,t)=>{const o=document.cookie.match('(^|;)\\s*'+e+'\\s*=\\s*([^;]+)');return o?t?o.pop():e:''},R=e=>{const t=document.cookie.split(/;\s*/),o=[];for(const n of t){let t=n.split('=')[0];e?N((()=>{e.test(t)&&o.push(t)})):o.push(t)}return o},L=(e,t=[],o='all',n='all',s='all')=>{S(e,t),h(),((e,t)=>{const{vendors:o}=a.o.m;let n=[],s=[];if(i(e)&&(n=e),i(t)&&(s=t),'all'===e||'all'===t)for(const a of o)'all'===e&&n.push(...a.purposes),'all'===t&&s.push(...a.specialFeatures);n=u(n),s=u(s),a.o.C=n,a.o.S=s})(o,n),w(s),x()},M=(e,t=[])=>{S(e,t),h(),x()},J=e=>{w(e),x()},U=e=>{const t=a.o.A?[]:a.o.V;return c(t,e)},B=e=>{const t=a.o.A?[]:a.o.C;return c(t,e)},V=e=>{const t=a.o.A?[]:a.o.S;return c(t,e)},G=e=>{const t=a.o.A?[]:a.o.D;return c(t,e)},H=(e,t)=>{const{B:o,K:n}=a.o;if(!(e&&t&&l(t)&&c(o,t)&&0!==_(n[t]).length))return!1;M()},q=(e,t)=>{const o=a.o.A?[]:a.o.W[t]||[];return c(o,e)},z=e=>''!==P(e,!0),K=(e,t,o)=>{let n=[];const s=e=>{if(l(e)){let t=P(e);''!==t&&n.push(t)}else n.push(...R(e))};if(i(e))for(let t of e)s(t);else s(e);O(n,t,o)},Q=()=>{const{J:e,W:t}=a.o,{accepted:o,rejected:n}=(()=>{const{A:e,V:t,B:o}=a.o;return{accepted:t,rejected:e?[]:o.filter((e=>!c(t,e)))}})();return v({acceptType:e,acceptedCategories:o,rejectedCategories:n,acceptedServices:t,rejectedServices:y()})},W=(e,t)=>{let o=document.querySelector('script[src="'+e+'"]');return new Promise((n=>{if(o)return n(!0);if(o=p('script'),d(t))for(const e in t)g(o,e,t[e]);var s,a;o.onload=()=>n(!0),o.onerror=()=>{o.remove(),n(!1)},o.src=e,s=document.head,a=o,s.appendChild(a)}))},X=e=>{let t,o=e.value,n=e.mode,s=!1;const r=a.o;if('update'===n){r.k=t=Y('data');const e=typeof t==typeof o;if(e&&'object'==typeof t){!t&&(t={});for(let e in o)t[e]!==o[e]&&(t[e]=o[e],s=!0)}else!e&&t||t===o||(t=o,s=!0)}else t=o,s=!0;return s&&(r.k=t,r.p.data=t,F(!0)),s},Y=(e,t)=>{const o=A(t);return e?o[e]:o},Z=e=>{const t=a.t,o=a.o.i;return e?t[e]||o[e]:{...t,...o,cookie:{...t.cookie}}},$=()=>!a.o.A,ee=async e=>{const{o:t,t:s,te:r}=a,f=window;if(!f._ccRun){if(f._ccRun=!0,await(async e=>{const{ge:t,t:s,o:r}=a,i=s,l=r,{cookie:f}=i,u=a.ee,p=e.cookie,g=e.categories,m=_(g)||[],v=navigator,y=document;t.me=y,f.domain=location.hostname,l.i=e,l.U=g,l.B=m,u.oe=e.onFirstConsent,u.ne=e.onConsent,u.se=e.onChange;const{mode:S,autoClearCookies:h,revision:w,manageScriptTags:b,hideFromBots:D}=e;S===o&&(i.mode=S),'boolean'==typeof h&&(i.autoClearCookies=h),'boolean'==typeof b&&(i.manageScriptTags=b),'number'==typeof w&&w>=0&&(i.revision=w,l.P=!0),!1===D&&(i.hideFromBots=!1),!0===i.hideFromBots&&v&&(l.q=v.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(v.userAgent)||v.webdriver),d(p)&&(i.cookie={...f,...p}),i.autoClearCookies,l.P,i.manageScriptTags,i.isTcfCompliant,i.tcfComplianceConfig,(e=>{const{U:t,K:o,W:n,X:s,G:r}=a.o;for(let c of e){const e=t[c],i=e.services||{},l=d(i)&&_(i)||[];o[c]={},n[c]=[],s[c]=[],e.readOnly&&(r.push(c),n[c]=l),a.ge.Ce[c]={};for(let e of l){const t=i[e];t.le=!1,o[c][e]=t}}})(m),(()=>{if(!a.t.manageScriptTags)return;const e=a.o,t=(o=document,s='script['+n+']',o.querySelectorAll(s));var o,s;for(const o of t){let t=C(o,n),s=o.dataset.service||'',a=!1;if(t&&'!'===t.charAt(0)&&(t=t.slice(1),a=!0),'!'===s.charAt(0)&&(s=s.slice(1),a=!0),c(e.B,t)&&(e.$.push({fe:o,de:!1,pe:a,_e:t,ue:s}),s)){const o=e.K[t];o[s]||(o[s]={le:!1})}}})()})(e),t.q)return;if((()=>{const e=a.o,t=a.t,n=A(),{categories:s,services:r,purposeIds:c,specialFeatureIds:d,vendorIds:f,consentId:_,consentTimestamp:u,lastConsentTimestamp:p,data:g,revision:m}=n,C=i(s),v=i(c),y=i(d),S=i(f);e.p=n,e.O=_;const h=!!_&&l(_);e.j=u,e.j&&(e.j=new Date(u)),e.F=p,e.F&&(e.F=new Date(p)),e.k=void 0!==g?g:null,e.P&&h&&m!==t.revision&&(e.R=!1),e.A=!(h&&e.R&&e.j&&e.F&&C&&v&&y&&S),t.cookie.useLocalStorage&&!e.A&&(e.A=(new Date).getTime()>(n.expirationTime||0),e.A&&j(t.cookie.name)),e.A,(()=>{const e=a.o;for(const t of e.B){const n=e.U[t];if(n.readOnly||n.enabled){e.H.push(t);const n=e.K[t]||{};for(let s in n)e.X[t].push(s),e.i.mode===o&&e.W[t].push(s)}}})(),e.A?t.mode===o&&(e.V=[...e.H]):(e.X={...e.W},e.W={...e.W,...r},e.C=c,e.S=d,e.D=f,I([...e.G,...s]))})(),$())return k(),T(r.ne);s.mode===o&&k(t.H)}},te=e=>{const{name:t,path:o,domain:n,useLocalStorage:r}=a.t.cookie;e&&(r?j(t):K(t,o,n));for(const{ve:e,ye:t,Se:o}of a.o.T)e.removeEventListener(t,o);const c=new s;for(const e in a)a[e]=c[e];window._ccRun=!1};window.onload=e;export{M as acceptCategory,L as acceptMultiple,H as acceptService,U as acceptedCategory,B as acceptedPurpose,q as acceptedService,V as acceptedSpecialFeature,J as allowVendors,G as allowedVendor,K as eraseCookies,Z as getConfig,Y as getCookie,Q as getUserPreferences,W as loadScript,te as reset,ee as run,X as setCookieData,$ as validConsent,z as validCookie};
